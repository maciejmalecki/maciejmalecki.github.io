<!DOCTYPE html>
<html>

<head>
	
	<script async src="https://www.googletagmanager.com/gtag/js?id=G-8E02V5EDF9"></script>
	<script>
		var useCookies = (localStorage.getItem('useCookies') === 'true');
		if (useCookies) {
			window.dataLayer = window.dataLayer || [];
			function gtag(){dataLayer.push(arguments);}
			gtag('js', new Date());
			gtag('config', 'G-8E02V5EDF9', { 'anonymize_ip': true });
		}
	</script>
	

	<!-- Meta -->
	<meta charset="UTF-8"/>
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
	<meta name="generator" content="Jekyll">

	<title>Weather Station with ESP 8266 (part 1)</title>
  <meta name="description" content="Introduction to the battery powered, ESP 8266 IoT project.">

	<!-- CSS & fonts -->
	<link rel="stylesheet" href="/css/main.css">

	<!-- RSS -->
	<link href="/atom.xml" type="application/atom+xml" rel="alternate" title="ATOM Feed" />

  <!-- Favicon -->
  <link rel="shortcut icon" type="image/png" href="img/favicon.png">

</head>


<body>
	<div id="wrap">

	  	<!-- Navigation -->
	  	<nav id="nav">
	<div id="nav-list">
		<a href="//">Home</a>

		<!-- Nav pages -->
	  
	    
	  
	    
	      <a href="/about" title="About">About</a>
	    
	  
	    
	      <a href="/architecture" title="Architecture">Architecture</a>
	    
	  
	    
	      <a href="/asm" title="Assembly language">Assembly language</a>
	    
	  
	    
	  
	    
	      <a href="/cbm" title="8bits">8bits</a>
	    
	  
	    
	      <a href="/genai" title="GenAI">GenAI</a>
	    
	  
	    
	  
	    
	  
	    
	      <a href="/privacy" title="Privacy">Privacy</a>
	    
	  
	    
	      <a href="/sh" title="IoT">IoT</a>
	    
	  
	    
	  
	    
	  
	    
	  
    
    <!-- Nav links -->
	  <a href="https://github.com/maciejmalecki">Github</a>


	</div>
  
  <!-- Nav footer -->
	
	  <footer>
	
	<span>version 1.0.0</span>

</footer>
	

</nav>


    <!-- Icon menu -->
	  <a id="nav-menu">
	  	<div id="menu"></div>
	  </a>

      <!-- Header -->
      
        <header id="header" class="parent justify-spaceBetween">
  <div class="inner w100 relative">
    <span class="f-left">  
      <a href="/">
          <h1><code>()=>{}</code></h1>
      </a>
    </span>
    <span id="nav-links" class="absolute right bottom">
      <!-- Nav pages -->
      
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
          <a href="/about" title="About">About</a>
      
      
        
          <a href="/architecture" title="Architecture">Architecture</a>
      
      
        
      
        
          <a href="/genai" title="GenAI">GenAI</a>
      
      
        
          <a href="/cbm" title="8bits">8bits</a>
      
      
        
          <a href="/sh" title="IoT">IoT</a>
      
      
        
          <a href="/privacy" title="Privacy">Privacy</a>
      
      
      
      <!-- Nav links -->
      <a href="https://github.com/maciejmalecki">Github</a>


    </span>
  </div>
</header>




      

    <!-- Main content -->
	  <div id="container">

		<main>

			<article id="post-page">
	<h2>Weather Station with ESP 8266 (part 1)</h2>		
	<time datetime="2020-11-17T00:00:00+00:00" class="by-line">17 Nov 2020</time>
	<div class="disclaimer">
		The views and opinions expressed in this blog are solely my own and do not reflect the views, policies, or positions of my employer or any professional organization with which I am affiliated.
	</div>
	<div class="content">

		<p>The ESP 8266 has relatively high power consumption (around 70-80mA) which makes battery powered devices difficult to build, unless we accept a very short battery lifetime. Reasons for this are apparently connected with WiFi communication model, which is not especially economical, big processing power of the ESP chip itself has also an influence on this.</p>

<p>But I really like 8266 because setting up the network topology is trivial - there is nothing to be set as I will use my existing home network. These devices also need to be battery powered, because I don’t want to put wires. So I have checked several options and this is what I found. The situation is not that bad as it looks, as there are a few power saving modes of the ESP 8266, from which the so-called deep sleep mode seems to be a very promising. In deep sleep mode the power consumption can be vastly reduced to around 10uA, which is a very small number.</p>

<p><img src="https://maciejmalecki.github.io//sh/img/weather-inside.jpg" alt="Weather station interior" /></p>

<p>The weather station seems to be an ideal project for deep sleep mode, because we usually don’t need to take measurements all the time, but instead we can wait a certain amount of minutes. The longer the wait interval is, the longer deep sleep mode can be used thus I can lower the overall power consumption.</p>

<p>The ESP 8266 itself operates in 3.0-3.6V area and nominal voltage should be around 3.3V. After some experiments I decided to use a single 18650 Li-ion rechargeable battery, and an LDO voltage stabilizer with limits the voltage of the power source to the safe 3.3V level. It is noteworthy the best 18650 cells are around 3400mAh. If you see much better (as for 2020), i.e. over 10000mAh, there are fake for sure. Just don’t buy it.</p>

<p>Originally I have also decided to use a cheap DHT11 sensor, but it seems to be unreliable with humidity measurements, so I reverted to use more expensive BME280. As a bonus I got a pressure meter and much lower idle state power consumption of the sensor.</p>

<p>I describe the project with details on GitHub: <a href="https://github.com/maciejmalecki/weather">https://github.com/maciejmalecki/weather</a>.</p>


		
	</div>
</article>



	  </main>

		  <!-- Pagination links -->
      

	  </div>

	    <!-- Footer -->
	    <footer><span>&#169; 2018-2025 Maciej Małecki &#10540; last update: 2025-08-22 20:30</span></footer>


      <div id="gdpr" style="display: none;">
        <p>
          This web page uses cookies to track anonymous user activities. By continuing using this site
          or by closing this banner you indicate your consent to use these cookies.
          You can change settings, i.e. disable user tracking on <a href="privacy.html">privacy</a> page.
        </p>
        <button id="gdprClose">Close</button>
      </div>

	    <!-- Script -->
      <script src="/js/main.js"></script>	


	</div>

</body>
</html>
